var Number RainIncr = 0

rule "Increment Rain bucket"
    when
        Item RainMillimeters received update
    then    
        RainIncr = RainMillimeters.sumSince(now.withTimeAtStartOfDay)
        RainTotal.postUpdate(RainIncr.toString)
        postUpdate(RainTotal_Time, new DateTimeType())
end

rule "Reset Rain Total at Midnight"
    when
        Time cron "0 0 9 * * * *"
    then    
        postUpdate(RainTotal, 0.0)
end